(this.webpackJsonpcrudredux=this.webpackJsonpcrudredux||[]).push([[0],{41:function(e,t,a){e.exports=a(70)},46:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(19),o=a.n(c),u=(a(46),a(12)),l=function(){return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary justify-content-between"},n.a.createElement("div",{className:"contianer"},n.a.createElement("h1",null,n.a.createElement(u.b,{to:"/",className:"text-light"},"CRUD - React, Redux, REST API & Axios"))),n.a.createElement(u.b,{to:"/productos/nuevo",className:"btn btn-danger nuevo-post d-block d-md-inline-block"},"Agregar Producto +"))},i=a(3),s=a(4),d=a(10),m=a.n(d),p=a(18),E=a(38),b=a.n(E).a.create({baseURL:"http://localhost:4000/"}),O=a(13),f=a.n(O);var R=function(){return{type:"AGREGAR_PRODUCTO",payload:!0}},v=function(e){return{type:"AGREGAR_PRODUCTO_EXITO",payload:e}},y=function(e){return{type:"AGREGAR_PRODUCTO_ERROR",payload:e}},h=function(){return{type:"COMENZAR_DESCARGA_PRODUCTOS",payload:!0}},g=function(e){return{type:"DESCARGA_PRODUCTOS_EXITO",payload:e}},N=function(){return{type:"DESCARGA_PRODUCTOS_ERROR",payload:!0}},_=function(e){return{type:"OBTENER_PRODUCTO_ELIMINAR",payload:e}},j=function(){return{type:"PRODUCTO_ELIMINAR_EXITO"}},A=function(){return{type:"PRODUCTO_ELIMINAR_ERROR",payload:!0}},T=function(e){return{type:"OBTENER_PRODUCTO_EDITAR",payload:e}},C=function(e){return{type:"PRODUCTO_EDITAR_EXITO",payload:e}},D=function(e){var t=e.producto,a=t.nombre,r=t.precio,c=(t.id,Object(s.b)()),o=Object(i.f)(),u=function(){f.a.fire({title:"\xbfEst\xe1s seguro?",text:"No se puede recuperar una vez eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!",cancelButtonText:"Cancelar"}).then((function(e){e.value&&c(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(_(e)),t.prev=1,t.next=4,b.delete("/productos/".concat(e));case 4:a(j()),f.a.fire("Eliminado!","El producto se elimin\xf3 correctamente","success"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a(A()),f.a.fire({icon:"error",title:"Hubo un error",text:"Hubo un error, intenta de nuevo"});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t.id))}))},l=function(e){c(function(e){return function(t){t(T(e))}}(e)),o.push("/productos/editar/".concat(e.id))};return n.a.createElement("tr",null,n.a.createElement("td",null,a),n.a.createElement("td",null,"$ ",r),n.a.createElement("td",{className:"acciones"},n.a.createElement("button",{className:"btn btn-primary mr-2",type:"button",onClick:function(){return l(t)}},"Editar"),n.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return u()}},"Eliminar")))},P=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.productos.productos})),a=Object(s.c)((function(e){return e.productos.error})),c=Object(s.c)((function(e){return e.productos.loading}));return Object(r.useEffect)((function(){e(function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(h()),e.prev=1,e.next=4,b.get("/productos");case 4:a=e.sent,t(g(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(N());case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),n.a.createElement(r.Fragment,null,n.a.createElement("h2",{className:"text-center my-5"},"Listado de Productos"),a?n.a.createElement("p",{className:"font-weight-bold alert alert-danger text-center mt-4"},"Hubo un error"):null,c?n.a.createElement("p",{className:"text-center mt-4"},"Cargando..."):null,n.a.createElement("table",{className:"table table-striped"},n.a.createElement("thead",{className:"bg-primary table-dark"},n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Nombre"),n.a.createElement("th",{scope:"col"},"Precio"),n.a.createElement("th",{scope:"col"},"Acciones"))),n.a.createElement("tbody",null,0===t.lenght?"No hay productos":t.map((function(e){return n.a.createElement(D,{key:e.id,producto:e})})))))},x=a(17);var w=function(e){return{type:"MOSTRAR_ALERTA",payload:e}};var U=function(){return{type:"OCULTAR_ALERTA"}},I=function(e){var t=e.history,a=Object(r.useState)(""),c=Object(x.a)(a,2),o=c[0],u=c[1],l=Object(r.useState)(0),i=Object(x.a)(l,2),d=i[0],E=i[1],O=Object(s.b)(),h=Object(s.c)((function(e){return e.productos.loading})),g=Object(s.c)((function(e){return e.productos.error})),N=Object(s.c)((function(e){return e.alerta.alerta})),_=function(e){return O(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(R()),t.prev=1,t.next=4,b.post("/productos",e);case 4:a(v(e)),f.a.fire("Correcto","El producto se agreg\xf3 correctamente","success"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a(y(!0)),f.a.fire({icon:"error",title:"Hubo un error",text:"Hubo un error, intenta de nuevo"});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h2",{className:"text-center mb-4 font-weight-bold"},"Agregar Nuevo Producto"),N?n.a.createElement("p",{className:N.clases},N.msg):null,n.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),""===o.trim()||d<=0){O(function(e){return function(t){t(w(e))}}({msg:"Ambos campos son obligatorios",clases:"alert alert-danger text-center text-uppercase p3"}))}else O((function(e){e(U())})),_({nombre:o,precio:d}),t.push("/")}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Nombre Producto"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nombre Producto",name:"nombre",value:o,onChange:function(e){return u(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Precio Producto"),n.a.createElement("input",{type:"number",className:"form-control",placeholder:"Precio Producto",name:"precio",value:d,onChange:function(e){return E(Number(e.target.value))}})),n.a.createElement("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100"},"Agregar")),h?n.a.createElement("p",{className:"mt-4"},"Cargando..."):null,g?n.a.createElement("p",{className:"alert alert-danger p2 mt-4 text-center"},"Hubo un error"):null))))},S=a(22),k=a(2),G=function(){var e=Object(i.f)(),t=Object(r.useState)({nombre:"",precio:0}),a=Object(x.a)(t,2),c=a[0],o=a[1],u=Object(s.b)(),l=Object(s.c)((function(e){return e.productos.productoEditar})),d=c.nombre,E=c.precio;Object(r.useEffect)((function(){o(l)}),[l]);var O=function(e){o(Object(k.a)(Object(k.a)({},c),{},Object(S.a)({},e.target.name,e.target.value)))};return n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h2",{className:"text-center mb-4 font-weight-bold"},"Editar Producto"),n.a.createElement("form",{onSubmit:function(t){t.preventDefault(),u(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.put("/productos/".concat(e.id),e);case 3:a(C(e)),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(c)),e.push("/")}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Nombre Producto"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nombre Producto",name:"nombre",value:d,onChange:O})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Precio Producto"),n.a.createElement("input",{type:"number",className:"form-control",placeholder:"Precio Producto",name:"precio",value:E,onChange:O})),n.a.createElement("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100"},"GuardaCambio"))))))},L=a(11),X=a(39),B=a(40),M={productos:[],error:null,loading:!1,productoEliminar:null,productoEditar:null},H={alerta:null},J=Object(L.c)({productos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMENZAR_DESCARGA_PRODUCTOS":case"AGREGAR_PRODUCTO":return Object(k.a)(Object(k.a)({},e),{},{loading:t.payload});case"AGREGAR_PRODUCTO_EXITO":return Object(k.a)(Object(k.a)({},e),{},{loading:!1,productos:[].concat(Object(B.a)(e.productos),[t.payload])});case"DESCARGA_PRODUCTOS_ERROR":case"AGREGAR_PRODUCTO_ERROR":case"PRODUCTO_EDITAR_ERROR":return Object(k.a)(Object(k.a)({},e),{},{loading:!1,error:t.payload});case"DESCARGA_PRODUCTOS_EXITO":return Object(k.a)(Object(k.a)({},e),{},{productos:t.payload,loading:!1,error:!1});case"OBTENER_PRODUCTO_ELIMINAR":return Object(k.a)(Object(k.a)({},e),{},{productoEliminar:t.payload});case"PRODUCTO_ELIMINAR_EXITO":return Object(k.a)(Object(k.a)({},e),{},{productos:e.productos.filter((function(t){return t.id!==e.productoEliminar})),productoEliminar:null});case"OBTENER_PRODUCTO_EDITAR":return Object(k.a)(Object(k.a)({},e),{},{productoEditar:t.payload});case"PRODUCTO_EDITAR_EXITO":return Object(k.a)(Object(k.a)({},e),{},{productoEditar:null,productos:e.productos.map((function(e){return e.id===t.payload.id?e=t.payload:e}))});default:return e}},alerta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOSTRAR_ALERTA":return Object(k.a)(Object(k.a)({},e),{},{alerta:t.payload});case"OCULTAR_ALERTA":return Object(k.a)(Object(k.a)({},e),{},{alerta:null});default:return e}}}),V=Object(L.e)(J,Object(L.d)(Object(L.a)(X.a),"object"===typeof window&&"undefined"!==typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));var W=function(){return n.a.createElement(u.a,null,n.a.createElement(s.a,{store:V},n.a.createElement(l,null),n.a.createElement("div",{className:"container mt-5"},n.a.createElement(i.c,null,n.a.createElement(i.a,{exact:!0,path:"/",component:P}),n.a.createElement(i.a,{exact:!0,path:"/productos/nuevo",component:I}),n.a.createElement(i.a,{exact:!0,path:"/productos/editar/:id",component:G})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.5e2f7ee8.chunk.js.map